library(regfile) {

  delay_model : table_lookup;

  time_unit : "1ns";
  voltage_unit : "1V";
  current_unit : "1uA";
  pulling_resistance_unit : "1kohm";
  leakage_power_unit : "1nW";
  capacitive_load_unit (1,pf);

  type (regfile_sel) {
    base_type : array ;
    data_type : bit ;
    bit_width : 32;
    bit_from : 31;
    bit_to : 0 ;
    downto : true ;
  }

  type (regfile_data) {
    base_type : array ;
    data_type : bit ;
    bit_width : 32;
    bit_from : 31;
    bit_to : 0 ;
    downto : true ;
  }

  type (regfile_out) {
    base_type : array ;
    data_type : bit ;
    bit_width : 1;
  }

  cell (regfile) {
    area : 124.9189;
    latch_bank (IQ, IQN, 32) {
      enable : "rd_sel" ;
      data_in : "rd_mux_out" ;
    }
    pin(clk)  {
      direction : input;
      clock : true;
    }
    pin (rd_mux_out) {
      direction : input;
    }
    bus(rs1_sel) {
      bus_type : regfile_sel;
      direction : input;
    }
    bus(rs2_sel) {
      bus_type : regfile_sel;
      direction : input;
    }
    bus(rd_sel) {
      bus_type : regfile_sel;
      direction : input;
    }
    bus (rf_data) {
      bus_type : regfile_data;
      direction : internal;
      function : "IQ";
    }
    bus(rs1_rdata)  {
      bus_type : regfile_out;
      direction : output;
      pin(rs1_rdata[0]) {
        function : "((rf_data[0]&rs1_sel[0])|(rf_data[1]&rs1_sel[1])|(rf_data[2]&rs1_sel[2])|(rf_data[3]&rs1_sel[3])|(rf_data[4]&rs1_sel[4])|(rf_data[5]&rs1_sel[5])|(rf_data[6]&rs1_sel[6])|(rf_data[7]&rs1_sel[7])|(rf_data[8]&rs1_sel[8])|(rf_data[9]&rs1_sel[9])|(rf_data[10]&rs1_sel[10])|(rf_data[11]&rs1_sel[11])|(rf_data[12]&rs1_sel[12])|(rf_data[13]&rs1_sel[13])|(rf_data[14]&rs1_sel[14])|(rf_data[15]&rs1_sel[15])|(rf_data[16]&rs1_sel[16])|(rf_data[17]&rs1_sel[17])|(rf_data[18]&rs1_sel[18])|(rf_data[19]&rs1_sel[19])|(rf_data[20]&rs1_sel[20])|(rf_data[21]&rs1_sel[21])|(rf_data[22]&rs1_sel[22])|(rf_data[23]&rs1_sel[23])|(rf_data[24]&rs1_sel[24])|(rf_data[25]&rs1_sel[25])|(rf_data[26]&rs1_sel[26])|(rf_data[27]&rs1_sel[27])|(rf_data[28]&rs1_sel[28])|(rf_data[29]&rs1_sel[29])|(rf_data[30]&rs1_sel[30])|(rf_data[31]&rs1_sel[31]))";
      }
    }
    bus(rs2_rdata)  {
      bus_type : regfile_out;
      direction : output;
      pin(rs2_rdata[0]) {
        function : "((rf_data[0]&rs2_sel[0])|(rf_data[1]&rs2_sel[1])|(rf_data[2]&rs2_sel[2])|(rf_data[3]&rs2_sel[3])|(rf_data[4]&rs2_sel[4])|(rf_data[5]&rs2_sel[5])|(rf_data[6]&rs2_sel[6])|(rf_data[7]&rs2_sel[7])|(rf_data[8]&rs2_sel[8])|(rf_data[9]&rs2_sel[9])|(rf_data[10]&rs2_sel[10])|(rf_data[11]&rs2_sel[11])|(rf_data[12]&rs2_sel[12])|(rf_data[13]&rs2_sel[13])|(rf_data[14]&rs2_sel[14])|(rf_data[15]&rs2_sel[15])|(rf_data[16]&rs2_sel[16])|(rf_data[17]&rs2_sel[17])|(rf_data[18]&rs2_sel[18])|(rf_data[19]&rs2_sel[19])|(rf_data[20]&rs2_sel[20])|(rf_data[21]&rs2_sel[21])|(rf_data[22]&rs2_sel[22])|(rf_data[23]&rs2_sel[23])|(rf_data[24]&rs2_sel[24])|(rf_data[25]&rs2_sel[25])|(rf_data[26]&rs2_sel[26])|(rf_data[27]&rs2_sel[27])|(rf_data[28]&rs2_sel[28])|(rf_data[29]&rs2_sel[29])|(rf_data[30]&rs2_sel[30])|(rf_data[31]&rs2_sel[31]))";
      }
    }
  }
}
